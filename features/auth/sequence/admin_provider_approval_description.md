## 필수 정보

### 1. 참여자 (Participants/Actors)
| 참여자 | 설명 | 기술 스택 |
|--------|------|-----------|
| 관리자 (Admin) | 시스템 관리자 | 브라우저 |
| 관리자 프론트엔드 (Admin Frontend) | 관리자 웹 클라이언트 | Next.js + Nginx |
| 백엔드 (Backend) | API 서버 | Spring + Spring Security |
| S3 | 이미지 저장소 | AWS S3 |
| DB (Database) | 데이터 저장소 | - |

### 2. 시나리오/흐름 설명
- 승인 대기 업체 목록 조회 프로세스
- 업체 상세 정보 및 재직증명서 조회 프로세스
- 업체 승인/반려 프로세스

> **Note**: 관리자 로그인은 별도 로그인 페이지를 사용합니다. `admin_login_description.md` 참조

### 3. 메시지 흐름 순서

#### 3-1. 승인 대기 업체 목록 조회 흐름
```
1. 관리자 → 관리자 프론트엔드: 업체 관리 메뉴 클릭
2. 관리자 프론트엔드 → 백엔드: 승인 대기 업체 목록 조회 (GET /api/admin/providers?status=PENDING)
3. 백엔드 → DB: 승인 대기 상태 업체 목록 조회
4. DB → 백엔드: 업체 목록 반환
5. 백엔드 → 관리자 프론트엔드: 200 OK (업체 목록 데이터)
6. 관리자 프론트엔드 → 관리자: 승인 대기 업체 목록 표시
```

#### 3-2. 업체 상세 정보 및 재직증명서 조회 흐름
```
1. 관리자 → 관리자 프론트엔드: 업체 상세보기 클릭
2. 관리자 프론트엔드 → 백엔드: 업체 상세 조회 (GET /api/admin/providers/{providerId})
3. 백엔드 → DB: 업체 정보 조회
4. DB → 백엔드: 업체 정보 반환 (재직증명서 이미지 URL 포함)
5. 백엔드 → 관리자 프론트엔드: 200 OK (업체 상세 데이터)
6. 관리자 프론트엔드 → S3: 재직증명서 이미지 요청 (이미지 URL)
7. S3 → 관리자 프론트엔드: 이미지 반환
8. 관리자 프론트엔드 → 관리자: 업체 상세 정보 + 재직증명서 이미지 표시
```

#### 3-3. 업체 승인 흐름
```
1. 관리자 → 관리자 프론트엔드: "승인" 버튼 클릭
2. 관리자 프론트엔드 → 백엔드: 업체 승인 API 요청 (PATCH /api/admin/providers/{providerId}/approve)
3. 백엔드 → DB: 업체 승인 상태 업데이트 (approvalStatus: APPROVED)
4. DB → 백엔드: 업데이트 완료
5. 백엔드 → 관리자 프론트엔드: 200 OK (승인 완료)
6. 관리자 프론트엔드 → 관리자: 승인 완료 메시지 표시, 목록 새로고침
```

#### 3-4. 업체 반려 흐름
```
1. 관리자 → 관리자 프론트엔드: "반려" 버튼 클릭
2. 관리자 프론트엔드 → 백엔드: 업체 반려 API 요청 (PATCH /api/admin/providers/{providerId}/reject)
3. 백엔드 → DB: 업체 반려 상태 업데이트 (approvalStatus: REJECTED)
4. DB → 백엔드: 업데이트 완료
5. 백엔드 → 관리자 프론트엔드: 200 OK (반려 완료)
6. 관리자 프론트엔드 → 관리자: 반려 완료 메시지 표시, 목록 새로고침
```

---

## 선택 정보 (더 정교한 다이어그램을 위해)

### 4. 조건부 흐름 (alt/opt)
| 시나리오 | 분기 조건 |
|----------|-----------|
| 업체 승인/반려 | 없음 (단일 흐름) |

### 5. 반복 (loop)
- 없음

### 6. 병렬 처리 (par)
- 없음

### 7. 비동기 호출
- 모두 동기 호출

### 8. 노트/주석
- 승인/반려 시 이메일 알림 기능은 보류
- 업체는 승인 전까지 강의 등록 불가

---

## 추가 기술 정보

### 업체 승인 상태
| 상태 | 설명 | 기능 제한 |
|------|------|----------|
| PENDING | 승인 대기 | 로그인 가능, 강의 등록 불가 |
| APPROVED | 승인 완료 | 모든 기능 이용 가능 |
| REJECTED | 승인 거부 | 로그인 가능, 강의 등록 불가 |

### API 엔드포인트
| 기능 | Method | Endpoint | 설명 |
|------|--------|----------|------|
| 업체 목록 조회 | GET | /api/admin/providers | 상태별 필터링 가능 |
| 업체 상세 조회 | GET | /api/admin/providers/{providerId} | 재직증명서 URL 포함 |
| 업체 승인 | PATCH | /api/admin/providers/{providerId}/approve | 승인 처리 |
| 업체 반려 | PATCH | /api/admin/providers/{providerId}/reject | 반려 처리 |

### 에러 케이스
| HTTP Status | 설명 | 발생 조건 |
|-------------|------|-----------|
| 401 Unauthorized | 인증 필요 | 비로그인 또는 관리자 권한 없음 |
| 403 Forbidden | 권한 없음 | 관리자가 아닌 사용자가 접근 |
| 404 Not Found | 업체 없음 | 존재하지 않는 providerId |
