# 마이페이지 (Mypage) Sequence Description

마이페이지 기능의 주요 프로세스에 대한 설명입니다.

## 1. 내 정보 관리 (Profile Management)

### 1.1 내 정보 조회
- 사용자가 마이페이지에 접속하면 자신의 프로필 정보를 조회합니다.
- `USER`와 `ORGANIZATION` 역할에 따라 반환되는 정보가 다를 수 있습니다.
- `USER`의 경우 설문조사 완료 여부(`hasSurvey`)가 포함됩니다.

### 1.2 내 정보 수정
- 사용자는 닉네임, 전화번호, 주소 등의 정보를 수정할 수 있습니다.
- 비밀번호 변경은 기존 Auth API를 사용하므로 이 다이어그램에서는 제외합니다.

## 2. 내 후기 관리 (User Review Management)

### 2.1 내 후기 목록 조회
- 사용자는 자신이 작성한 후기 목록을 조회합니다.
- 승인 상태(`PENDING`, `APPROVED`, `REJECTED`)를 확인할 수 있습니다.

### 2.2 반려된 후기 수정
- `REJECTED` 상태의 후기만 수정 가능합니다.
- 수정 요청 시 서버는 작성자 본인 여부와 현재 상태가 `REJECTED`인지 확인합니다.
- 수정이 완료되면 승인 상태는 다시 `PENDING`으로 변경되어 관리자의 재승인을 기다립니다.

## 3. 설문조사 관리 (User Survey Management)

### 3.1 설문조사 조회 및 수정 (Upsert)
- 사용자는 자신의 설문조사 데이터를 조회합니다. 데이터가 없으면 빈 폼이 제공됩니다.
- 설문조사 저장 시, 기존 데이터가 있으면 `UPDATE`, 없으면 `INSERT`를 수행하는 Upsert 로직을 따릅니다.

## 4. 내 강의 관리 (Organization Lecture Management)

### 4.1 내 강의 목록 조회
- 기관 담당자는 자신이 등록한 강의 목록을 조회합니다.
- 승인 상태(`PENDING`, `APPROVED`, `REJECTED`)를 확인할 수 있습니다.

### 4.2 반려된 강의 수정
- `REJECTED` 상태의 강의만 수정 가능합니다.
- 수정 요청 시 서버는 기관 소유 여부와 현재 상태가 `REJECTED`인지 확인합니다.
- 수정이 완료되면 승인 상태는 다시 `PENDING`으로 변경되어 관리자의 재승인을 기다립니다.
