# 설문조사 (Survey) - PRD

> Product Requirements Document

## 문서 정보

| 항목 | 내용 |
|------|------|
| 작성일 | 2025-01-15 |
| 상태 | Draft |
| 버전 | 1.0 |

---

## 1. 배경 및 목적

### 1.1 배경

기존 설문조사 시스템은 6개의 고정된 문항(전공, 부트캠프 수료 여부, 희망 직무, 자격증, 내일배움카드 보유, 교육비 부담 가능 금액)으로 구성되어 있었습니다.

AI 강의 추천 기능의 정확도를 높이기 위해 다음이 필요합니다:
- 기초 설문 문항 재설계 (5문항)
- 개발자 적성 및 성향 진단 테스트 추가 (15문항)
- 어드민에서 문항 관리 기능 (버전 관리 포함)

### 1.2 목적

- **기초 설문**: 사용자의 학습 배경 및 선호도 파악
- **성향 테스트**: 개발자 적성 진단 및 추천 직무 도출
- **어드민 기능**: 문항 추가/수정/삭제, 버전 관리
- **AI 연동**: 설문 결과를 AI 강의 추천에 활용

---

## 2. 사용자 정의

### 2.1 사용자 유형

| 사용자 유형 | Role | 주요 기능 |
|------------|------|-----------|
| 일반 사용자 | `USER` | 기초 설문 작성, 성향 테스트 응시, 결과 확인 |
| 관리자 | `ADMIN` | 문항 관리 (CRUD), 버전 관리, 응답 통계 조회 |

---

## 3. 기능 요구사항

### 3.1 기초 설문 (5문항)

#### 3.1.1 문항 구성

| # | 문항 | 타입 | 필수 | 비고 |
|---|------|------|:----:|------|
| 1 | 전공 | TEXT | O | 자유 입력 |
| 2 | 프로그래밍 경험 유무 | CONDITIONAL | O | 경험 있음 선택 시 부트캠프 과정명 입력 |
| 3 | 선호하는 수업 방식 | RADIO | O | 온라인 / 오프라인 / 혼합 |
| 4 | 희망 직무 | CHECKBOX | O | 백엔드 / 프론트엔드 / 데이터 / AI / 모바일 / 기타 |
| 5 | 교육비 자기 부담 가능 금액 | RANGE | O | 50만원 미만 / 50~100만원 / 100~200만원 / 200만원 이상 |

#### 3.1.2 사용자 스토리

| 구분 | 사용자 스토리 |
|------|-------------|
| US-01 | 사용자는 기초 설문 5문항에 응답할 수 있다 |
| US-02 | 사용자는 기초 설문만 작성해도 AI 기본 추천 기능을 사용할 수 있다 |
| US-03 | 사용자는 기존 응답을 수정할 수 있다 |
| US-04 | 프로그래밍 경험이 있는 경우, 부트캠프 과정명을 추가로 입력할 수 있다 |
| US-05 | 희망 직무에서 '기타'를 선택한 경우, 직접 입력할 수 있다 |

---

### 3.2 성향 테스트 (15문항)

#### 3.2.1 문항 구성

| Part | 문항 수 | 목적 | 점수 계산 |
|------|--------|------|----------|
| **Part 1** | 4문항 | 논리 및 사고력 | 정답 = 10점 (총 40점) |
| **Part 2** | 4문항 | 끈기 및 학습 태도 | 선택에 따라 0/5/10점 (총 40점) |
| **Part 3** | 7문항 | 직무 성향 정밀 진단 | F/B/D 유형 카운트 |

#### 3.2.2 Part 1 - 논리 및 사고력

| Q | 문항 | 정답 기준 |
|---|------|----------|
| Q1 | 규칙 찾기 (수열) | 패턴 파악 능력 |
| Q2 | 로봇 청소기 문제 (조건문 이해) | 논리적 사고 |
| Q3 | 명제 논리 (대우 명제) | 논리적 추론 |
| Q4 | 분류 감각 (추상화) | 객체/클래스 구분 |

#### 3.2.3 Part 2 - 끈기 및 학습 태도

| Q | 문항 | 평가 요소 |
|---|------|----------|
| Q5 | 에러 발생 시 첫 반응 | 문제 해결 태도 |
| Q6 | 새로운 기계/프로그램 다룰 때 | 학습 방식 |
| Q7 | 단순 반복 작업 대응 | 자동화 마인드 |
| Q8 | 개발자가 되고 싶은 이유 | 동기 |

#### 3.2.4 Part 3 - 직무 성향 정밀 진단

| Q | 문항 | 선택지 유형 |
|---|------|------------|
| Q9 | 식당 창업 시 관심 분야 | [F] 디자인 / [B] 시스템 / [D] 분석 |
| Q10 | 레고 조립 희열 순간 | [F] 결과물 / [B] 기계 작동 / [D] 패턴 발견 |
| Q11 | 엑셀/PPT 작업 스타일 | [F] 시각 정리 / [B] 폴더 구조 / [D] 함수/수식 |
| Q12 | 앱 개발 팀 회의 선호 대화 | [F] 버튼 색상 / [B] 데이터 출처 / [D] 사용 통계 |
| Q13 | 앱 버그 중 용서 못하는 것 | [F] UI 불편 / [B] 로딩 느림 / [D] 추천 오류 |
| Q14 | 딱 하나만 만들 수 있다면 | [F] 화려한 웹 / [B] 튼튼한 서버 / [D] AI 비서 |
| Q15 | 서점에서 집어 든 책 | [F] 디자인 / [B] 시스템 / [D] 통계 |

#### 3.2.5 사용자 스토리

| 구분 | 사용자 스토리 |
|------|-------------|
| US-06 | 사용자는 성향 테스트 15문항에 응답할 수 있다 |
| US-07 | 사용자는 성향 테스트를 선택적으로 진행할 수 있다 (필수 아님) |
| US-08 | 사용자는 성향 테스트 결과(적성 점수, 등급, 추천 직무)를 확인할 수 있다 |
| US-09 | 성향 테스트까지 완료한 사용자는 AI 정밀 추천 기능을 사용할 수 있다 |

---

### 3.3 결과 산출

#### 3.3.1 사용자에게 표시되는 결과

| 항목 | 표시 여부 | 설명 |
|------|:--------:|------|
| 추천 직무 | **O** | Part 3 응답 기반 (프론트엔드/백엔드/데이터/풀스택) |
| 적성 점수 | X | AI 추천에만 내부 활용 |
| 적성 등급 | X | AI 추천에만 내부 활용 |

#### 3.3.2 추천 직무 (Part 3 기반)

| 유형 | 조건 | 추천 직무 |
|------|------|----------|
| **FRONTEND** | F가 가장 많음 | 프론트엔드 개발자 |
| **BACKEND** | B가 가장 많음 | 백엔드 개발자 |
| **DATA** | D가 가장 많음 | 데이터 분석가 / AI 엔지니어 |
| **FULLSTACK** | 동점 | 풀스택 개발자 |

#### 3.3.3 내부 활용 (AI 추천용)

적성 점수(Part 1 + Part 2, 80점 만점)는 사용자에게 노출하지 않고, AI 강의 추천 시 난이도 조절에 활용합니다.

- 점수 낮음 → 기초/입문 강의 추천
- 점수 높음 → 심화/실무 강의 추천

---

### 3.4 어드민 - 문항 관리

#### 3.4.1 사용자 스토리

| 구분 | 사용자 스토리 |
|------|-------------|
| US-10 | 관리자는 설문 세트(기초 설문 / 성향 테스트)를 생성할 수 있다 |
| US-11 | 관리자는 설문 세트에 문항을 추가/수정/삭제할 수 있다 |
| US-12 | 관리자는 문항에 선택지를 추가하고 점수/정답을 설정할 수 있다 |
| US-13 | 관리자는 설문 세트를 발행(PUBLISHED)할 수 있다 |
| US-14 | 관리자는 기존 세트를 복제하여 새 버전을 생성할 수 있다 |
| US-15 | 발행된 세트는 수정할 수 없고, 새 버전으로만 변경 가능하다 |

#### 3.4.2 버전 관리 정책

| 상태 | 설명 | 수정 가능 |
|------|------|:--------:|
| **DRAFT** | 작성 중 | O |
| **PUBLISHED** | 활성 (사용자에게 노출) | X |
| **ARCHIVED** | 보관됨 (새 버전 발행 시 자동 전환) | X |

---

### 3.5 AI 추천 연동

| 설문 완료 단계 | AI 추천 기능 | 설명 |
|---------------|-------------|------|
| 미작성 | 사용 불가 | 설문 작성 유도 |
| 기초 설문만 완료 | **기본 추천** | 희망 직무, 수업 방식, 예산 기반 |
| 성향 테스트까지 완료 | **정밀 추천** | 적성 등급 + 추천 직무까지 반영 |

---

## 4. 정책 및 제약사항

### 4.1 설문 응답 정책

- 기초 설문은 AI 추천 사용을 위해 필수
- 성향 테스트는 선택 (추후 진행 가능)
- 사용자당 기초 설문 1개, 성향 테스트 1개만 저장
- 응답 수정 시 기존 데이터 덮어쓰기 (히스토리 미관리)

### 4.2 버전 관리 정책

- 응답 저장 시 해당 시점의 문항 버전(`question_set_version`)과 함께 저장
- 문항 버전이 변경되어도 기존 응답은 유지
- 동일 type(BASIC/APTITUDE)에서 PUBLISHED 세트는 항상 1개만 존재

### 4.3 점수 계산 정책

- Part 1 정답은 사용자에게 노출하지 않음 (서버에서만 관리)
- 점수 계산은 서버에서 수행 (클라이언트 조작 방지)

---

## 5. 비기능 요구사항

### 5.1 성능

- 문항 조회 API 응답: 500ms 이내
- 점수 계산: 실시간 처리

### 5.2 보안

- Part 1 정답은 어드민 API에서만 조회 가능
- 사용자 API 응답에서 정답/점수 정보 제외

---

## 6. 마이그레이션

### 6.1 기존 데이터 처리

- 기존 `member_surveys` 테이블의 6개 컬럼 데이터는 삭제
- 새 JSONB 구조로 전환 (기존 응답 미보존)

### 6.2 기존 문서 참조

> 이 문서는 기존 `features/mypage/` 문서에서 설문조사 기능을 분리하여 작성되었습니다.
>
> **분리 사유**: 성향 테스트 15문항 추가, 어드민 문항 관리 기능, 버전 관리 등 기능 규모 확대
